# Production and development dependencies split
# Different update schedules for production and development dependencies

version: 2
updates:
  # Production dependencies - weekly updates
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "05:00"

    allow:
      - dependency-type: "production"

    labels:
      - "dependencies"
      - "production"

    reviewers:
      - "tech-leads"

    commit-message:
      prefix: "deps(prod)"

    groups:
      production-minor-patch:
        update-types:
          - "minor"
          - "patch"

    # More conservative with production
    open-pull-requests-limit: 3

  # Development dependencies - monthly updates
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "monthly"
      day: "monday"

    allow:
      - dependency-type: "development"

    labels:
      - "dependencies"
      - "development"

    commit-message:
      prefix: "deps(dev)"
      prefix-development: "deps(dev)"

    groups:
      dev-dependencies:
        update-types:
          - "minor"
          - "patch"

    # Can handle more dev dependency PRs
    open-pull-requests-limit: 10
